=============================================================================
    MSX2/2+/turboR 用 MIDI プレイヤー    ＭＩＤＲＹ   Version 1.06
      ドキュメント (MIDRY106.DOC)        Copyright(c)1997 いかたま
=============================================================================

    MSX2/2+/turboR で MIDI 演奏しようというソフトウェアです。

    別ファイルで「MIDRY106.1ST」というドキュメントファイルがあります。そちら
  も合わせてご覧下さい。



-----------------------------------------------------------------------------
  目次
-----------------------------------------------------------------------------

  1.  起動方法

    1. 1.  一曲づつ演奏
    1. 2.  複数曲を連続演奏
    1. 3.  ファイラーモードで起動

  2.  オプション

    2. 1.  /#[c..]
    2. 2.  /--、/-+、/-、/-c..
    2. 3.  /Ix1[:x2]
    2. 4.  /DB-、/DB+、/DB
    2. 5.  /DC-、/DC+、/DC
    2. 6.  /DG-、/DG+、/DG
    2. 7.  /DR-、/DR+、/DR
    2. 8.  /DX-、/DX+、/DX
    2. 9.  /EM0、/EM1、/EM2、/EM3、/EM-、/EM+、/EM
    2.10.  /MC-、/MC+、/MC
    2.11.  /MP0、/MP1、/MP2、/MP-、/MP+、/MP
    2.12.  /PB[n]
    2.13.  /PL[n]
    2.14.  /PR-、/PR+、/PR
    2.15.  /PS-、/PS+、/PS
    2.16.  /RS0、/RS1、/RS2、/RS3、/RS-、/RS+、/RS
    2.17.  /SX-、/SX+、/SX
    2.18.  /TF0、/TF1、/TF2、/TF-、/TF+、/TF
    2.19.  /TP[n]
    2.20.  /ZD

  3.  演奏画面表示

    3. 1.  プレイヤー情報
    3. 2.  曲情報
    3. 3.  チャンネル情報

  4.  演奏画面でのキー操作

    4. 1.  ESC、SHIFT+ESC
    4. 2.  STOP、F3
    4. 3.  SPACE、F5
    4. 4.  HOME、F2
    4. 5.  "]"、"["
    4. 6.  "1"〜"9"、"0"、SHIFT+"1"〜SHIFT+"6"
    4. 7.  ","、"."、"/"
    4. 8.  "^"、"\"
    4. 9.  ">"、"<"
    4.10.  "?"

  5.  ファイラー画面表示

    5. 1.  プレイヤー情報
    5. 2.  ファイル一覧

  6.  ファイラー画面でのキー操作

    6. 1.  ESC、SHIFT+ESC
    6. 2.  "L"、F1
    6. 3.  "O"、F3
    6. 4.  "P"、F5
    6. 5.  ↑、↓、←、→
    6. 6.  SPACE、TAB
    6. 7.  SELECT、SHIFT+SELECT
    6. 8.  RETURN
    6. 9.  BS
    6.10.  "\"
    6.11.  ">"、"<"
    6.12.  "?"
    6.13.  "M"

  7.  コンフィギュレーションファイル

    7. 1.  REM セクション
    7. 2.  PMAP1/PMAP2 セクション
    7. 3.  RMAP1/RMAP2 セクション
    7. 4.  CHANNEL セクション
    7. 5.  DATA セクション



-----------------------------------------------------------------------------
   1.  起動方法
-----------------------------------------------------------------------------

    DOS2 で 漢字を使用したファイル名を持つデータファイルを指定する場合はあら
  かじめ漢字モードにしておいて下さい。

    どの起動方法でも MIDI データの出力方法を選択するための /I オプションは省
  略できません（環境変数「MIDRY」に設定してある場合は除きます）。
    オプションやオプション全般に関するものは《2. オプション》を 参照して下さ
  い。


  1. 1.  一曲づつ演奏
~~~~~~~~~~~~~~~~~~~~~~~
    指定されたファイルを読み込んで演奏を始めます。

    A>MIDRY 〈オプション〉 〈データファイル名〉

    データファイル名に ワイルドカードを使うことはできません。DOS2 上で使用す
  る場合はパス指定も可能です。

    拡張子を省略した場合.MID→.STD→.SMF→.SNG→.RCP→.R36→.MCP→.SEQ→.MM2
  の拡張子順にファイルを探して最初に見つけたものを読み込みます。


  1. 2.  複数曲を連続演奏
~~~~~~~~~~~~~~~~~~~~~~~~~~~
    複数のデータを連続して演奏することができます。

    A>MIDRY 〈オプション〉 @〈ファイルリストのファイル名〉

    ファイルリストのファイル名にワイルドカードを使うことはできません。特に決
  まった拡張子はないので、拡張子も省略せずに入力して下さい。 DOS2 上で使用す
  る場合はパス指定も可能です。

    ファイルリストは演奏したいデータファイル名を 1 行に 1 ファイルづつ記述し
  たテキストファイルです。テキストエディタなどであらかじめ作成しておいて下さ
  い。最大 255 個のデータファイルを記述することができます。

    ファイルリスト中のデータファイル名にワイルドカードを使うことはできません。
  DOS2 上で使用する場合はパス指定も可能です。 拡張子を省略した場合の検索手順
  は一曲づつ演奏する場合と同じです。

    ファイルリスト中には一部を除くオプションを各データファイルごと個別に指定
  することができます。 どのオプションが使用できるかは《2. オプション》を参照
  して下さい。

    なお、ファイルリスト中に構文上のエラーがあってもエラーメッセージは表示さ
  れません。その行のエラー発生個所以降が無視されます（この結果データファイル
  名がわからなくなった行はその行全体が無視されます）。
    また、255 個を超えるデータファイルの記述も無視されます。


  1. 3.  ファイラーモードで起動
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    ファイラーモードで起動するにはデータファイルやファイルリストを指定せずに
  起動します。

    A>MIDRY 〈オプション〉

    ファイラーモードでは、組み込みファイラーを起動してデータを選択、演奏する
  ことができます。

    ファイラーモードではディレクトリファイルを作成、更新、参照します。ディレ
  クトリファイルについての 詳細は《6. ディレクトリファイル（MIDRY106.1ST）》
  を参照して下さい。



-----------------------------------------------------------------------------
   2.  オプション
-----------------------------------------------------------------------------

    オプション中の文字はすべて半角で記述して下さい。アルファベットは大文字、
  小文字を区別しません。「/」は必ずオプションごとに付けて下さい。

    DOS2 上で実行する場合、環境変数「MIDRY」にあらかじめオプションを設定して
  おくことができます。

    また、一部を除くオプションはファイルリスト中に記述することができ、該当フ
  ァイルを演奏する時のみ有効になります。

    オプションの解釈順序は 〈環境変数で指定されたオプション（DOS2 で使用する
  場合）〉、〈コマンドラインで指定されたオプション〉、〈ファイルリスト中で指
  定されたオプション（ファイルリストを利用した場合）〉の順です。
    同種のオプションが 2 つ以上指定された場合、 基本的に後から指定されたもの
  が有効ですが、前の指定が影響するオプションもあります。

    下記のオプションの説明で「◆」マークの付いたオプションはファイルリスト中
  やファイラーでのオプション設定では使用できません。

    2 ポート利用時、MIDI データ出力の追加、抑制、加工を伴うオプションは、1st
  ポートでのみ有効なものがあります。このことに関して特に記述がなければどちら
  のポートに対しても有効です。


  2. 1.  /#[c..]
~~~~~~~~~~~~~~~~~~
    演奏時の MIDI チャンネルを変更します。

    c は変更後の MIDI チャンネルです。どのチャンネルを変更するかは変更後のチ
  ャンネルを指定する位置によって決まります。チャンネルの指定が 16 個に満たな
  い場合（全くない場合も含めて）、残りのチャンネルは変更されません。

    MIDI チャンネルはチャンネル 1〜9 を「1」〜「9」で、 チャンネル 10〜16 を
  「A」〜「G」の一文字で指定します。

      例）
        チャンネル 1〜16 をチャンネル 16〜1 にしたいとき

            /#GFEDCBA987654321

        チャンネル 1,3 をチャンネル 4,5 にしたいとき

            /#425

    このオプションを 2つ以上指定した場合は最後に指定されたものが有効で、それ
  以外の指定はすべて無視されます。

    2 ポート利用時は、1st ポートに対してのみ チャンネルの変更が有効です。


  2. 2.  /--、/-+、/-、/-c..    ◆
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    チャンネルミュート状態を指定します。

      /--   : 全チャンネルのミュートOFF（デフォルト）
      /-+   : 全チャンネルをミュートON
      /-    : 各チャンネルのミュート状態を反転
      /-c.. : c は MIDI チャンネルで、指定されたチャンネルをミュート
          チャンネルに加える

    MIDI チャンネルはチャンネル 1〜9 を「1」〜「9」で、 チャンネル 10〜16 を
  「A」〜「G」の一文字で指定します。 /# オプションで MIDI チャンネルを変更し
  ている場合、 オプションの記述順序に関わらず 変更後の MIDI チャンネルを指定
  します。


  2. 3.  /Ix1[:x2]    ◆
~~~~~~~~~~~~~~~~~~~~
    MIDI データを出力する方法を選択します。 「:」で区切って 2 種類のインター
  フェースを指定して 2 ポート出力を行うこともできます。

    x1 は 1st ポートのインターフェースコードで、x2 は 2nd ポートのインターフ
  ェースコードです。1 ポートしか必要ない場合、または、1 ポートで 32 パートの
  演奏ができる場合は「:」以降を省略して下さい。 このオプションすべてを省略す
  ることはできません。

    インターフェースコードは次の通りです。[]で囲まれた数字は省略可能です。

    0[1]        : MIDI サウルス OUT1
    02      : MIDI サウルス OUT2
    1[1]        : RS-232C 31250 bps
    12      : RS-232C 38400 bps
    13      : RS-232C 31250 bps  32 パート対応
    14      : RS-232C 38400 bps  32 パート対応
    2       : MSX マガジン版 MIDI I/F（初期型）
    31      : ジョイスティックポート1
    3[2]        : ジョイスティックポート2
    33      : ジョイスティックポート1+2  32パート対応
    34      : ジョイスティックポート2+1  32パート対応
    4[1]        : 只MIDI または Dual-MIDI PORT1
    42      : Dual MIDI PORT2
    43      : Dual MIDI PORT1+2  32 パート対応
    44      : Dual MIDI PORT2+1  32 パート対応
    5[1]        : MSX-MIDI 1 系統のみ、または内蔵
    52      : MSX-MIDI μPack
    53      : MSX-MIDI 内蔵+μPack  32 パート対応
    54      : MSX-MIDI μPack+内蔵  32 パート対応

    各インターフェースについては《2. MIDI データ出力方法（MIDRY106.1ST）》を
  参照して下さい。

    インターフェースを 2 種類指定する場合、インターフェースコードの 最初の数
  字が同じになるものは組み合わせて利用することはできません。また、どちらかに
  Z80 モードでなければならないインターフェースが含まれる場合、もう一方のイン
  ターフェースの種類にかかわらず、 プレイヤー起動中は Z80 モードに切り替わり
  ます（turboR の高速モードで起動された場合）。

      例）
        MSX-MIDI を 1st ポートに、ジョイスティックポート1 を 2nd
        ポートにしたいとき

            /I5:31

    なお、32 パート演奏は標準 MIDI ファイルと レコンポーザ用データファイル以
  外のデータ形式ではサポートしていません。


  2. 4.  /DB-、/DB+、/DB
~~~~~~~~~~~~~~~~~~~~~~~~~~
    データ中のバンクセレクト（コントロールチェンジ 0、32）の送信を禁止するか
  どうかを指定します。

      /DB-  : 送信を許可（デフォルト）
      /DB+  : 送信を禁止
      /DB   : 状態を反転

    このオプションでバンクセレクトの送信を禁止した場合は /MC オプションによる
  MAP 切り替えは行われません。


  2. 5.  /DC-、/DC+、/DC
~~~~~~~~~~~~~~~~~~~~~~~~~~
    演奏開始前に CM-64 系音源の LA、PCM 全パートの受信チャンネルをオフにする
  エクスクルーシブを送信するかどうかを指定します。

      /DC-  : 送信しない（デフォルト）
      /DC+  : 送信する
      /DC   : 状態を反転

    データ中に LA、PCM の受信チャンネルをオフ以外に変えるような エクスクルー
  シブがあった場合はそれ以降その指定に従うことになります。

    2 ポート利用時は 1st ポートのみに送信します。


  2. 6.  /DG-、/DG+、/DG
~~~~~~~~~~~~~~~~~~~~~~~~~~
    演奏開始前に GS 音源の全パートの受信チャンネルをオフにするエクスクルーシ
  ブを送信するかどうかを指定します。

      /DG-  : 送信しない（デフォルト）
      /DG+  : 送信する
      /DG   : 状態を反転

    データ中に GS 音源の受信チャンネルをオフ以外に変えるようなエクスクルーシ
  ブがあった場合はそれ以降その指定に従うことになります。

    2 ポート利用時は 1st ポートのみに送信します。


  2. 7.  /DR-、/DR+、/DR
~~~~~~~~~~~~~~~~~~~~~~~~~~
    データ中の GM SYSTEM ON、CM-64 系音源の RESET、 GS RESET、SC-88 系音源の
  SYSTEM MODE SET、XG SYSTEM ON の送信を禁止するかどうかを指定します。

      /DR-  : 送信する（デフォルト）
      /DR+  : 送信を禁止する
      /DR   : 状態を反転

    上記すべてのエクスクルーシブについて同じ状態になります。個別に禁止するこ
  とはできません。
    このオプションで送信が禁止できるのはデータ中のものだけです。ミュージ郎系
  データには明示的にこれらのエクスクルーシブが入っているわけではないので送信
  を禁止することができません。


  2. 8.  /DX-、/DX+、/DX
~~~~~~~~~~~~~~~~~~~~~~~~~~
    演奏開始前に XG 音源のパート 1〜16 の受信チャンネルをオフにするエクスクル
  ーシブを送信するかどうかを指定します。

      /DX-  : 送信しない（デフォルト）
      /DX+  : 送信する
      /DX   : 状態を反転

    データ中に XG 音源の受信チャンネルをオフ以外に変えるようなエクスクルーシ
  ブがあった場合はそれ以降その指定に従うことになります。

    2 ポート利用時は 1st ポートのみに送信します。


  2. 9.  /EM0、/EM1、/EM2、/EM3、/EM-、/EM+、/EM
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    SC-55 等で CM-64 系音源のエミュレートを行うかどうかを指定します。

      /EM0  : エミュレートは行わない（デフォルト）
      /EM1  : CM-64 のエミュレート
      /EM2  : CM-32P のエミュレート
      /EM3  : CM-32L のエミュレート
      /EM-  : /EM0 と同じ
      /EM+  : /EM1 と同じ
      /EM   : /EM1、/EM2 または /EM3 指定状態では /EM0、/EM0 指定状態
          では /EM1 の指定と同じ

    SC-55 単体で MT-32/CM-64 用 の データを 演奏する 場合や、SC-55 と MT-32、
  CM-32L/P と組み合わせて CM-64 用のデータを演奏するときに指定すれば、それな
  りに演奏できるかもしれません。
    エミュレーションの詳細は《7. CM-64/32P/L エミュレーション（MIDRY106.1ST）
  》を参照して下さい。

    SC-88/88Pro でこのオプションを使用した場合、/MC オプションを使用しなくて
  も一時的にリズムパートも含め SC-55MAP に切り替えます。

    なお、SC-88/88Pro で オール SC-55MAP/SC-88MAP インジケータが点滅状態の場
  合は、音源自身が強制的に SC-88/88ProMAP を使用するようになるので MIDI メッ
  セージによる SC-55MAP への切り替えができません。SC-88/88Pro でこのオプショ
  ンを使用する場合は、 音源本体のスイッチで SC-55MAP/SC-88MAP インジケータの
  点滅灯状態を解除しておいて下さい。

    2 ポート利用時は 1st ポートでのみエミュレーションが可能です。


  2.10.  /MC-、/MC+、/MC
~~~~~~~~~~~~~~~~~~~~~~~~~~
    SC-88/88Pro を SC-88/88ProMAP で 使用しているときに CM-64 互換音色（バリ
  エーション126、127）も使用できるようにする処理を行うかどうかを指定します。

      /MC-  : 処理しない（デフォルト）
      /MC+  : 処理する
      /MC   : 状態を反転

    /MC+ オプションを使用すれば、 プログラムチェンジ送信時のバンクセレクトの
  MSB が 126、127 のとき一時的に SC-55MAP に切り替えるようになります。

    なお、SC-88/88Pro で オール SC-55MAP/SC-88MAP インジケータが点滅状態の場
  合は、音源自身が強制的に SC-88/88ProMAP を使用するようになるので MIDI メッ
  セージによる SC-55MAP への切り替えができません。SC-88/88Pro でこのオプショ
  ンを使用する場合は、 音源本体のスイッチで SC-55MAP/SC-88MAP インジケータの
  点滅灯状態を解除しておいて下さい。

    バリエーションの状態は演奏中のコントロールチェンジを監視して確認している
  ので、エクスクルーシブなどの他の手段によってバリエーションが変えられた場合
  は正常に機能しません。また、/DB オプションでバンクセレクトの送信を禁止した
  場合は MAP の切り替えは行われません。

    リズムパートではドラムセットの切り替えがプログラムチェンジによって行われ
  るため CM-64 互換のドラムセットが選択されてもマップは切り替わりません。

    SC-88/88Pro で /EM オプションによる CM-64 系音源エミュレーションを行う場
  合はこのオプションを使用しなくても SC-55MAP に切り替わります。

    2 ポート利用時、このオプションは正常に機能しない場合があります。


  2.11.  /MP0、/MP1、/MP2、/MP-、/MP+、/MP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    演奏開始前に SC-88/88Pro のマップを切り替えるかどうかを指定します。

      /MP0  : 切り替えない（デフォルト）
      /MP1  : SC-55MAP に切り替え
      /MP2  : SC-88MAP に切り替え
      /MP3  : SC-88ProMAP に切り替え
      /MP-  : /MP0 と同じ
      /MP+  : /MP1 と同じ
      /MP   : /MP1、/MP2 または /MP3 指定状態では /MP0、/MP0 指定状
          態では /MP1 の指定と同じ

    このオプションでマップを切り替えた場合、1 ポートのみの利用でも、すべての
  パートが指定するマップに切り替わります。
    この状態は GS RESET では変化しませんが、データ中にマップを切り替えるメッ
  セージ（SYSTEM MODE SET も含まれる）がある場合はそれに従ってマップが切り替
  わります。

    起動時にこのオプションを利用してマップを指定した場合は、そのマップがデフ
  ォルトマップになります。ファイルリスト中に、このオプションが使用されていな
  いか /MP0 が指定されたデータを演奏する場合は、このデフォルトマップへの切り
  替えが行われます。
    デフォルトマップはファイラ画面でキー操作により変更することができます。

    なお、SC-88/88Pro でオール SC-55MAP/SC-88MAP インジケータが点灯/点滅状態
  の場合は、音源によって MIDI メッセージによる音色マップ切り替えを制限されま
  す。SC-88/88Pro でこのオプションを使用する場合は、音源本体のスイッチでイン
  ジケータが消灯するようにしておいて下さい。

    SC-88 用の データを SC-88Pro で演奏する場合、 データ中に SYSTEM MODE SET
  が 含まれていると /MP2 オプションを使用しても SC-88ProMAP の音色で演奏され
  てしまうことがあります。
    その場合、/DR オプションも同時に指定すると SC-88MAP でうまく演奏できる場
  合があります。

    このオプションが指定された場合は、プレイヤー終了時に、元の状態にかかわら
  ず SC-88/88ProMAP を選択するメッセージを送信します。


  2.12.  /PB[n]
~~~~~~~~~~~~~~~~~
    キーバイアスを変更します（キートランスポーズ）。

    キーバイアスは演奏の際にノート番号に加える値で、±1 で半音上下します。
    n は -24〜+24（上下 2 オクターブ）の 範囲で可変できますが、 音程変更後の
  ノート番号が 0〜127 の範囲外だった場合、オーバーフローした分は単に無視して
  いるだけなので変な音程になってしまいます。


  2.13.  /PL[n]    ◆
~~~~~~~~~~~~~~~~~
    繰り返し演奏を行います。連続演奏している場合は連続演奏全体を繰り返すこと
  になります。
    また、ファイラーモードでは繰り返し回数の初期値を指定することになります。

    n は繰り返し回数で 0〜65535 が指定可能です。0 を指定するか回数を省略した
  ときは、無限回の繰り返しになります。


  2.14.  /PR-、/PR+、/PR    ◆
~~~~~~~~~~~~~~~~~~~~~~~~~~
    シーケンシャル、ランダム演奏モードを指定します。このオプションは連続演奏
  する場合のみ有効なものです。

      /PR-  : シーケンシャル演奏モード（デフォルト）
      /PR+  : ランダム演奏モード
      /PR   : 状態を反転

    シーケンシャル演奏ではファイルリストに記述された順、またはファイラー画面
  で選択された順に演奏しますが、ランダム演奏では演奏順序をランダムに入れ替え
  ます。


  2.15.  /PS-、/PS+、/PS    ◆
~~~~~~~~~~~~~~~~~~~~~~~~~~
    データファイル読み込み終了後、演奏を開始する前に一時停止するかどうかを指
  定します。

      /PS-  : 一時停止しない（デフォルト）
      /PS+  : 一時停止する
      /PS   : 状態を反転

    一時停止しているときに SPACE キーを押すと演奏を開始します。


  2.16.  /RS0、/RS1、/RS2、/RS3、/RS-、/RS+、/RS
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    演奏開始、終了時に行っている CM-64 系音源、GS 音源、XG 音源に対する リセ
  ットエクスクルーシブ、GM SYSTEM ON を送信するかどうかを指定します。 データ
  ファイル中にあるこれらのメッセージの送信には影響しません。

      /RS0  : 送信しない
      /RS1  : GM SYSTEM ON、CM-64 系音源の RESET、GS RESET を送信
         （デフォルト）
      /RS2  : GM SYSTEM ON、CM-64 系音源の RESET、XG SYSTEM ON を送信
      /RS3  : GM SYSTEM ON、CM-64 系音源の RESET、GS RESET、XG SYSTEM
          ON を送信
      /RS-  : /RS0 と同じ
      /RS+  : /RS1 と同じ
      /RS   : /RS1、/RS2 または /RS3 指定状態では /RS0、/RS0 指定状態
           では /RS1 の指定と同じ

    オプションで送信を禁止しても、ミュージ郎系のデータを演奏する場合や音色フ
  ァイルを送信する場合、また /EM1、/EM2、/EM3 オプションのうちいずれかを使用
  した場合は該当する音源に対してリセットエクスクルーシブが送信されます。
    また、/DC+、/DG+、/DX+ オプションが 使用された場合、終了時には該当する音
  源に対してリセットエクスクルーシブが送信されます。


  2.17.  /SX-、/SX+、/SX
~~~~~~~~~~~~~~~~~~~~~~~~~~
    ミュージ郎/2、Ballade3 のデータを演奏する場合、 データ中の音源設定によっ
  て LA、PCM、GS 音源のパート受信チャンネルがオフされることがあります。 例え
  ば、全トラックが GM 音源に設定されていれば、 GS 音源からは全く音が出ません。
    このオプションは LA、PCM、GS 音源に対して 受信チャンネルをオフにするエク
  スクルーシブの送信するかどうかを指定します。
    送信しないようにすると、データ中の音源の設定にかかわらず、とりあえず音が
  出るようになります。

      /SX-  : 送信する（デフォルト）
      /SX+  : 送信しない
      /SX   : 状態を反転

    このオプションでの指定は、コンフィギュレーションファイル中での各音源の受
  信チャンネル変更には影響しません。


  2.18.  /TF0、/TF1、/TF2、/TF-、/TF+、/TF
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    音色ファイル（拡張子.CM6、.GSD）の送信を禁止するかどうかを指定します。

      /TF0  : RCM-PC98 Version 2、レコンポーザ98 の場合のみ送信
          （デフォルト）
      /TF1  : データ形式に関わらず送信
      /TF2  : データ形式に関わらず送信を禁止
      /TF-  : /TF0 と同じ
      /TF+  : /TF1 と同じ
      /TF   : /TF1 または /TF2 指定状態では /TF0、/TF0 指定状態では
          /TF1の指定と同じ

    /TF2 を指定した場合、 RCM-PC98 やレコンポーザ98 形式のデータ中に音色ファ
  イルの指定があっても音色ファイルは送信しません。

    2 ポート利用時は 1st ポートにのみ出力します。


  2.19.  /TP[n]
~~~~~~~~~~~~~~~~~
    演奏時のテンポを変更します。

    n は25〜398（整数で単位は %）で、データ中のテンポ値の何%を演奏時のテンポ
  とするかを指定します。ただし、実際には約 1.6% ごとにしか変化させられないの
  で、この制限内で指定値に近い値が取られます。
    変更後のテンポが極端に遅くなったり早くなったりすると正常に動作しなくなる
  かもしれません。
    /TP、/TP0、/TP- は /TP100（テンポ変更なし）と 同じです。0 でない範囲外の
  値を指定した場合は 25 または 398 が指定されたものとして処理します。


  2.20.  /ZD-、/ZD+、/ZD
~~~~~~~~~~~~~~~~~~~~~~~~~~
    データ中にある Roland エクスクルーシブのデバイス ID を 17 に変えるかどう
  かを指定します。

      /ZD-  : 変更しない（デフォルト）
      /ZD+  : 17 に変更
      /ZD   : 状態を反転



-----------------------------------------------------------------------------
  3.  演奏画面表示
-----------------------------------------------------------------------------

    バンク番号やプログラム番号などは各 MIDI チャンネルごとに表示します。トラ
  ックごとの表示ではありません。

    表示される値はオプションやコンフィギュレーションファイルによってはデータ
  中の値とは異なる場合があります。かと言って実際に出力された値であるともいい
  きれません。この辺りは処理の都合が優先されています。

    表示処理は演奏処理の合間に行っています。演奏のほうが忙しくなると表示がぎ
  くしゃくしたり、一瞬止まってしまったりといったことが起きます。少し欲張り過
  ぎたかもしれません。


  3. 1.  プレイヤー情報
~~~~~~~~~~~~~~~~~~~~~~~~~
 ・ ファンクション表示

      ファンクションキーの F1〜F5 に対応した機能の表示を行います。

 ・ 繰り返し回数（REPEAT）

      繰り返しの残り回数を表示します。無限回の繰り返し時は 0 を表示します。

 ・ 曲番号（NUMBER）

      連続演奏している場合に、演奏中の曲番号と連続演奏データ数を表示します。
      曲番号はファイルリスト中に記述された順、またはファイラーで選択された順
    に 1 番から割り振られます。

 ・ 連続演奏モード表示

      ランダム演奏モードのときは緑色の「R」の文字が表示されます。


  3. 2.  曲情報
~~~~~~~~~~~~~~~~~
 ・ ファイル名

      演奏中のデータファイル名を表示します。

 ・ 曲タイトル

      標準 MIDI ファイルでは 0 以外の デルタタイムが出現するまで（フォーマッ
    ト 1 の場合は 最初のトラックのみ）にある メタイベント FF 01 または FF 03
    のどちらか最初に表れたテキストをタイトルとして表示します。他のデータ形式
    ではデータ中の各々の曲タイトル部分を表示します。
      タイトルは常にシフト JIS コードだという前提で表示しています。
      縦を 8 ドットに圧縮して表示しているため 多少読みにくいかもしれません。

 ・ 小節番号（MEAS）

      演奏中の小節番号を表示します。ただし、演奏データ中に拍子データが正しく
    入っていることが必要です。
      標準 MIDI ファイルとミュージ郎系以外の形式のデータでは拍子の初期値を元
    にカウントしているので拍子データが正しくても実際の演奏と合わないことがあ
    ります。また、ループ処理があってもそのままカウントを続けます。

 ・ 拍表示

      小節番号の下に表示されているものです。小節の何拍目かを表示します。9 拍
    目以降は折り返して表示します。ただし、演奏データ中に拍子データが正しく入
    っていることが必要です。
      標準 MIDI ファイルとミュージ郎系以外の形式のデータでは拍子の初期値を元
    にカウントしているので拍子データが正しくても実際の演奏と合わないことがあ
    ります。また、ループ処理があってもそのままカウントを続けます。

 ・ キーバイアス（BIAS）

      キーバイアス（キートランスポーズ）の値を表示します。

 ・ テンポ（TEMPO）

      1 分間辺りの 4 分音符数で表示しています。RCM-PC98 などのテンポは処理の
    都合で一旦、標準 MIDI ファイルで使用されているテンポと同じ単位に換算して
    います。ここで表示しているのはそれをさらに換算して元に戻したものなので、
    演算誤差などのため、完全に元通りの値になるとは限りません。

 ・ 拍子（BEAT）

      データ中で指定されている拍子を表示します。ただし、標準 MIDI ファイルと
    ミュージ郎系以外の形式のデータでは初期値のみ表示し、曲中で変更されても表
    示には反映されません。

 ・ ファイル形式表示

      演奏中のデータのファイル形式を表示します。形式によってはトラック数も合
    わせて表示します。

 ・ トータルボリューム

      音源のトータルボリューム（マスターボリュームというのかもしれません）を
    表示します。 GM、GS、XG、CM-64 系 LA、PCM 音源用のトータルボリュームを変
    えるエクスクルーシブによって表示が変わります。どの音源用のものでも同じボ
    リューム表示を変えるので混在している場合は後着優先表示ということになりま
    す。
      あまりないことだとは思いますが、GM 以外の音源用の エクスクルーシブで、
    トータルボリュームがその前のパラメータとひとまとめにされて、メッセージ中
    に含まれるアドレスがトータルボリュームのアドレスでなくなった場合は認識で
    きません。
      GM SYSTEM ON、CM-64系音源の RESET、GS RESET、XG SYSTEM ON のエクスクル
    ーシブにも反応します。


  3. 3.  チャンネル情報
~~~~~~~~~~~~~~~~~~~~~~~~~
    （2 ポート利用時はポート指定を無視した表示になります）

 ・ ベロシティメータ

      ベロシティの値をレベルメータ風に表示します。ベロシティのみを元に表示し
    ているので、ボリュームなどの変化には追従しません。

 ・ バンク番号（BANK）

      データ中で指定されたバンク番号の MSB 値を上段に、LSB 値を下段に 0〜127
    の範囲で表示します。曲の初めからバンクセレクトデータが出現するまではブラ
    ンクになります。ただし、コンフィギュレーションファイルで初期値の指定があ
    る場合はその値を表示します。
      なお、バンクセレクトは次にプログラムチェンジを送るまで音源側で保留され
    るので、実際に発音される音色のバンク番号と表示が異なる場合もあります。

 ・ プログラム番号（PROG）

      データ中で指定されたプログラム番号を 1〜128 の範囲で表示します。曲の初
    めからプログラムチェンジデータが出現するまではブランクになります。ただし、
    コンフィギュレーションファイルで初期値の指定がある場合はその値を表示しま
    す。

 ・ ミュートスイッチ

      チャンネル番号の下に表示されているスイッチ（のつもり）です。通常、緑色
    の小さな長方形が表示されていますが、オプションやキー操作でチャンネルミュ
    ートしている場合、それが表示されません（音源側のミュート機能とは無関係で
    す）。

 ・ パンポット

      MIDI メッセージ上の値と左右の対応は GM に合わせてあります。CM-64 など
    音源によっては実際の定位と左右が逆の表示になる場合があります。

 ・ ボリューム

      ボリュームです。

 ・ エクスプレッション

      ボリューム表示の脇にあります。



-----------------------------------------------------------------------------
  4.  演奏画面でのキー操作
-----------------------------------------------------------------------------

    通常は説明している全てのキー操作が有効です（状態によっては無意味な場合も
  あります）が、ファイルの読み込み中だと一部のキー入力は無視されます。

    なお、演奏処理の負荷が重いとキー入力がすぐに効かないことがあります。


  4. 1.  ESC、SHIFT+ESC
~~~~~~~~~~~~~~~~~~~~~~~~~
    MSX-DOS に戻ります。演奏中の場合は演奏を停止させてから終了します。
    バッチファイルから起動された場合、SHIFT キーの押下状態で動作が異なります。

    ESC   : バッチファイル処理は継続
    SHIFT+ESC : バッチファイル処理は中断

    ファイラーモードではファイラー画面に戻ります。この場合、SHIFT キーの押下
  状態は意味を持ちません。


  4. 2.  STOP、F3
~~~~~~~~~~~~~~~~~~~
    演奏を一時停止します。STOP、F3 どちらのキーも機能は同じです。
    発音中の音は全てノートオフし、 全チャンネルのホールド1、ホールド 2、ソス
  テヌートがオンになっているときはオフにします（2 ポート利用時はオールノート
  オフのみ送ります）。

    演奏の再開は SPACE キー行います。


  4. 3.  SPACE、F5
~~~~~~~~~~~~~~~~~~~~
    STOP キーやオプションによる一時停止状態を解除します。 SPACE、F5 どちらの
  キーも機能は同じです。

    STOP キーで演奏を停止したときにオフされた ホールド 1、ホールド 2、ソステ
  ヌートはオン状態に戻します（2 ポート利用時はこれらの状態を変更しません）。


  4. 4.  HOME、F2
~~~~~~~~~~~~~~~~~~~
    メモリ上にあるデータを 最初から演奏する準備を行います。 実際の演奏開始は
  SPACE キーで行います。 HOME、F2 どちらのキーも機能は同じです。

    演奏中に入力した場合は演奏を停止してから処理します。


  4. 5.  "]"、"["
~~~~~~~~~~~~~~~~~~~
    連続演奏している時のみ有効です。現在の演奏を中止してファイルリスト、また
  はファイラーで選択された別のデータを演奏します。

      "]" : 次のデータファイルを読み込んで演奏
        （まだ演奏していないデータからランダムに選曲）
      "[" : 前のデータファイルを読み込んで演奏
        （今まで演奏したデータからランダムに選曲）

    （）内はランダム演奏モードの場合ですが、一巡してしまうと演奏したかどうか
  の状態はクリアされてしまいます。


  4. 6.  "1"〜"9"、"0"、SHIFT+"1"〜SHIFT+"6"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    対応するチャンネルのミュート状態を切り替えます。

      "1"〜"9"    :  チャンネル 1〜9 に対応
      "0"         : チャンネル 10 に対応
      SHIFT+"1"〜
        SHIFT+"6" : チャンネル 11〜16 に対応

    連続演奏している場合、演奏するデータが変わってもそのままの状態が維持され
  ます。

    2 ポート利用時はどちらのポートも同じ状態になります。


  4. 7.  ","、"."、"/"
~~~~~~~~~~~~~~~~~~~~~~~~
    テンポを変更します。

      "," : テンポを遅くする
      "." : テンポを早くする
      "/" : データ中で指定されている値に戻す

    テンポ変更の割合は約 1.6% ごとに 25〜398% の範囲で行なえまが、極端に遅か
  ったり早かったりすると正常に動作しないかもしれません。

    連続演奏している場合、演奏するデータが変われば初期状態に戻されます。


  4. 8.  "^"、"\"
~~~~~~~~~~~~~~~~~~~
    キーバイアスを変更します（キートランスポーズ）。
    キーバイアスは演奏の際にノート番号に加える値で、±1 で半音上下します。

      "^" : キーバイアスを +1 （半音上げる）
      "\" : キーバイアスを -1 （半音下げる）

    -24〜+24（上下 2 オクターブ）の 範囲で可変できますが、音程変更後のノート
  番号が 0〜127 の範囲外だった場合、オーバーフローした分は単に無視しているだ
  けなので変な音程になってしまいます。

    演奏中にキーバイアスを変更した場合、発音中の音は全てオフされます。キーバ
  イアスを変えたときに演奏が引っかかることがありますが、このノートオフ処理に
  時間がかかっているためです。

    リズムチャンネルの ノート番号にはキーバイアスは加算されません。どの MIDI
  チャンネルがリズムチャンネルとされるかは、演奏するファイルの形式やコンフィ
  ギュレーションファイルによって変わります。

    連続演奏している場合、演奏するデータが変われば初期状態に戻されます。


  4. 9.  ">"、"<"
~~~~~~~~~~~~~~~~~~~
    繰り返し演奏の残り回数を変更します。初期値には影響しません。

      ">" : 残り回数を +1
      "<" : 残り回数を -1

    繰り返し回数は 0〜65535 の範囲で変更可能です。0 にすると無限回の繰り返し
  になります。


  4.10.  "?"
~~~~~~~~~~~~~~
    シーケンシャル、ランダム演奏モードを切り替えます。残りのデータの選曲は次
  のように行われます。

    シーケンシャル → ランダム
        処理中のデータ演奏後、それ以降のデータをランダム演奏する

    ランダム → シーケンシャル
        処理中のデータ演奏後、未演奏データのみを曲番号順に演奏する

    繰り返し演奏している場合は、一巡すると通常の選曲になります。



-----------------------------------------------------------------------------
  5.  ファイラー画面表示
-----------------------------------------------------------------------------

    ディレクトリに関する記述は DOS2 上で動作している場合のみ有効です。


  5. 1.  プレイヤー情報
~~~~~~~~~~~~~~~~~~~~~~~~~
    プレイヤーの状態などを表示します。

 ・ ファンクション表示

      ファンクションキーの F1〜F5 に対応した機能の表示を行います。

 ・ 繰り返し回数（REPEAT）

      繰り返し回数の初期値を表示します。無限回の繰り返し時は 0 を表示します。

 ・ 曲番号（NUMBER）

      この画面では意味はありません。常に「---」が表示されます。

 ・ 連続演奏モード表示

      ランダム演奏モードのときは緑色の「R」の文字が表示されます。


  5. 2.  ファイル一覧
~~~~~~~~~~~~~~~~~~~~~~~
    ディスク上のファイルに関する情報を表示します。

 ・ ドライブ、ディレクトリ

      ファイル一覧を表示しているドライブ、ディレクトリを表示します。

 ・ ファイル数（FILE）

      選択されているデータファイル数とディレクトリ中のデータファイル数を表示
    します。サブディレクトリ数は含まれません。

 ・ ページ（PAGE）

      ファイル一覧の表示しているページと総ページ数を表示します。

 ・ ファイル一覧

      拡張子.MID、.STD、.SMF、.SNG、.RCP、.R36、.MCP、.SEQ、MM2 を持つファイ
    ルのみ表示されます。 DOS2 上で使用している場合はサブディレクトリも表示さ
    れます。サブディレクトリは実際のディレクトリ中の位置にかかわらず、一覧の
    初めにまとめて表示されます。
      表示できるファイル数は サブディレクトリも含めて 255 個までですが、表示
    対象外のファイルは含みません。255 個を越えるファイル、サブディレクトリは
    無視されます。

 ・ ファイル名

      ファイル一覧中に表示されます。
      データファイルは全くオプションが設定されていない場合は緑で、1 文字でも
    設定されていれば、黄色で表示されます。
      サブディレクトリは水色で表示されます。

 ・ 曲タイトル

      ファイル一覧中に表示されます。データファイルの曲タイトルです。
      表示内容は演奏画面で表示されるものと同じです。 《3. 演奏画面表示》を参
    照して下さい。
      サブディレクトリの場合は「<Directory>」と表示されます。

 ・ 選択番号

      ファイルを選択したときに付けられる番号です。ファイル名の前に赤で表示さ
    れます。

 ・ ファイルカーソル

      ファイル一覧上での反転表示をファイルカーソルと呼びます。キー操作で移動
    でき、ファイルやサブディレクトリを指示するために使用します。



-----------------------------------------------------------------------------
  6.  ファイラー画面でのキー操作
-----------------------------------------------------------------------------

    ディレクトリに関する記述は DOS2 上で動作している場合のみ有効です。


  6. 1.  ESC、SHIFT+ESC
~~~~~~~~~~~~~~~~~~~~~~~~~
    MSX-DOS に戻ります。有無を言わさず戻ってしまうので注意してください。
    バッチファイルから起動された場合、SHIFT キーの押下状態で動作が異なります。

    ESC   : バッチファイル処理は継続
    SHIFT+ESC : バッチファイル処理は中断


  6. 2.  "L"、F1
~~~~~~~~~~~~~~~~~~
    ドライブを変更します。ディスクを入れ替えた場合にも使用して下さい。"L"、F1
  どちらのキーも機能は同じです。

    画面上部に「Drive ?」の メッセージが表示されるので、次のキーのうちいずれ
  かを入力して下さい。

    "A"〜"H": 指定のドライブ名のドライブに変更
    RETURN  : ドライブは変更せず、ファイルの再検索のみ行う
    ESC ; ドライブ変更中止


  6. 3.  "O"、F3
~~~~~~~~~~~~~~~~~~
    ファイルに固有のオプションを設定します。"O"、F3 どちらのキーも機能は同じ
  です。

    選択ファイルがない場合はファイルカーソル位置にあるファイルのオプションが、
  設定、変更でき、選択ファイルがある場合はファイルカーソルの位置に関係なくす
  べての選択ファイルのオプションを一括設定できます。
    選択ファイルがなく、ファイルカーソルがサブディレクトリを指している場合は
  何もしません。

    設定できるオプションはファイルリスト中で使用できるものと同じです。どのオ
  プションが設定できるかは《2. オプション》を参照して下さい。

    画面上部に「Option ?」のメッセージの後、既に設定されている内容が表示され
  るので適当に修正して下さい。ただし、一括設定する場合は設定内容は表示されま
  せん。オプションの記述方法はコマンドラインやファイルリスト中での方法と同じ
  です。

    オプション編集中は挿入モードです。上書きモードにはできません。
    使用できる制御キーは次の通りです。

    RETURN  : 編集結果を確定して編集を終了
    ESC : 編集結果を破棄して編集を終了
    →   : カーソルを 1 桁右へ移動
    ←   : カーソルを 1 桁左へ移動
    BS  : カーソルの 1 桁前の文字を削除して後の文字を詰める
    DEL : カーソル位置の文字を削除して後の文字を詰める
    HOME    : カーソルを先頭または末尾に移動
    CLS : 編集中の文字列をすべて消去
    TAB : SPACE キーと同じ
    その他  : 無視（上記キーと同じコードを持つ CTRL キーを併用したキー
          は除く）

    入力された文字列は該当ファイルが演奏されるまで、その内容については一切チ
  ェックされないので注意してください。


  6. 4.  "P"、F5
~~~~~~~~~~~~~~~~~~
    指定されたファイルの演奏を始めます。"P"、F5 どちらのキーも機能は同じです。

    選択ファイルがない場合はファイルカーソル位置にあるファイルの演奏、選択フ
  ァイルがある場合はファイルカーソルの位置に関係なく選択されたファイルの連続
  演奏を始めます。
    選択ファイルがなく、ファイルカーソルがサブディレクトリを指している場合は
  何もしません。

    連続演奏時はファイルリストを一時ファイルとして作成します。このファイルは
  DOS1 の場合はデータファイルと同じドライブ、DOS2 では環境変数「TEMP」が設定
  されていればそれで指定されたディレクトリ、設定されていなければデータファイ
  ルと同じディレクトリに作成します。


  6. 5.  ↑、↓、←、→
~~~~~~~~~~~~~~~~~~~~~~~~~
    ファイルカーソルを移動します。

    ↑ : ファイルカーソルを 1 行上に移動
    ↓ : ファイルカーソルを 1 行下に移動
    ← : ファイルカーソルを 1 ページ前に移動
    → : ファイルカーソルを 1 ページ後に移動


  6. 6.  SPACE、TAB
~~~~~~~~~~~~~~~~~~~~~
    ファイルカーソル位置のファイルを選択します。既に選択されている場合は選択
  を解除します。サブディレクトリに対しては選択、解除処理は行いません。

    SPACE   : 選択または解除した後、ファイルカーソルを下に移動
    TAB : 選択または解除のみ行う

    選択ファイルには、選択順に番号が付けられます。この番号は連続演奏時の曲番
  号になります。解除された場合、そのファイルに付けられていた番号以降が詰めて
  付け直されます。

    選択ファイルはドライブまたはディレクトリを変更するか、ファイラー画面から
  抜けたときにはすべて解除されます。


  6. 7.  SELECT、SHIFT+SELECT
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    一括選択または一括解除します。サブディレクトリに対しては選択、解除処理は
  行いません。

    SELECT      : 選択ファイルがない場合はすべてのファイルを選択し、選択
              ファイルがある場合はすべて解除します。
    SHIFT+SELECT: 選択ファイルは解除し、そうでないファイルは選択します。

    選択ファイルには、ディレクトリに記録されている順序で番号が付けられます。
  この番号は連続演奏時の曲番号になります。

    選択ファイルはドライブまたはディレクトリを変更するか、ファイラー画面から
  抜けたときにはすべて解除されます。


  6. 8.  RETURN
~~~~~~~~~~~~~~~~~
    ファイルカーソルがサブディレクトリを指している場合はそのディレクトリに移
  動します。
    ファイルを指している場合は "P"、F5 キーと同じように演奏を開始します。


  6. 9.  BS
~~~~~~~~~~~~~
    親ディレクトリに移動します。


  6.10.  "\"
~~~~~~~~~~~~~~
    ルートディレクトリに移動します。


  6.11.  ">"、"<"
~~~~~~~~~~~~~~~~~~~
    繰り返し回数の初期値を変更します。

      ">" : 初期値を +1
      "<" : 初期値を -1

    繰り返し回数は 0〜65535 の範囲で変更可能です。0 にすると無限回の繰り返し
  になります。


  6.12.  "?"
~~~~~~~~~~~~~~
    シーケンシャル、ランダム演奏モードを切り替えます。


  6.13.  "M"
~~~~~~~~~~~~~~
    SC-88/88Pro のマップを切り替えます。

    画面上部に「Select map 1:SC-55, 2:SC-88 3:SC-88Pro ?」のメッセージが表示
  されるので、次のキーのうちいずれかを入力して下さい。

    "1" : SC-55MAP に切り替え
    "2" : SC-88MAP に切り替え
    "3" : SC-88ProMAP に切り替え
    ESC : マップ切り替え中止

    この状態は GS RESET では変化しませんが、 ファイルリスト中に /MP オプショ
  ンでマップ切り替えが指定されている場合や、演奏データ中にマップを切り替える
  メッセージ（SYSTEM MODE SET も含まれる）がある場合はそれに従ってマップが切
  り替わります。

    また、この操作はマップを切り替えるとともにデフォルトマップも指定されたも
  のに変更します。
    デフォルトマップは /MP オプションによる マップ切り替え指定がないデータを
  演奏する前に切り替えるマップになります。この操作で指定されなかった場合は、
  起動時の /MP オプションによる指定が デフォルトマップになります。起動時にも
  指定がなければ、マップ切り替えは行われません。

    なお、SC-88/88Pro でオール SC-55MAP/SC-88MAP インジケータが点灯/点滅状態
  の場合は、音源によって MIDI メッセージによる音色マップ切り替えを制限されま
  す。SC-88/88Pro でこのオプションを使用する場合は、音源本体のスイッチでイン
  ジケータが消灯するようにしておいて下さい。

    一度でも この機能を使用すると、プレイヤー終了時には 元の状態にかかわらず
  SC-88/88ProMAP に切り替えるメッセージが送信されます。



-----------------------------------------------------------------------------
  7.  コンフィギュレーションファイル
-----------------------------------------------------------------------------

    データファイルのあるドライブ（ディレクトリ）にデータファイルのファイル名
  の拡張子を「.MCF」に変えた名前のファイル、または「MIDRY@.MCF」というファイ
  ルがあると、そのファイルをコンフィギュレーションファイルとして読み込みます
  （両方ある場合は前者のみ）。

    コンフィギュレ−ションファイルを作成すると次のような処理ができます。

     ・ プログラム番号の変換
     ・ リズムノート番号の変換
     ・ リズムチャンネルの指定
     ・ プログラム番号の初期設定
     ・ ボリュームの初期設定
     ・ エクスプレッションの初期設定
     ・ パンポットの初期設定
     ・ ボリュームの拡張、圧縮
     ・ エクスプレッションの拡張、圧縮
     ・ 指定 MIDI ステータス、データを演奏前に送信

    各種の初期設定に関しては演奏データ中にそれらの値が変更されるようなデータ
  が現れるまでが有効範囲です。しかし、最近のデータには音源の各種設定を初期化
  するためのエクスクルーシブが含まれていることが多く、あまり意味のない機能に
  なりつつあります。

    コンフィギュレーションファイルはテキストファイルなので、テキストエディタ
  などで作成して下さい。
    ファイル中のアルファベットは大文字、小文字を区別しません。コメント以外は
  すべて半角文字で記述して下さい。

    コンフィギュレーションファイルにはいくつかのセクションを設けることができ
  ます。
    セクションには次のものがあります。

     ・ REM      コメントの記述
     ・ PMAP1/PMAP2  プログラム番号変換マップの定義
     ・ RMAP1/RMAP2  リズムノート番号変換マップの定義
     ・ CHANNEL      各チャンネルの設定
     ・ DATA     演奏前に送信する MIDI メッセージの定義

    コンフィギュレーションファイル中で行頭から「[セクション名]」と書くことで
  各セクションの記述を始めることができます。

    例）
    v−−ここがコンフィギュレーションファイルの 1 桁目

    [REM]
        コメント
           :
        コメント

    [CHANNEL]
        チャンネル定義
              :
        チャンネル定義

    [DATA]
        MIDI メッセージ
              :
        MIDI メッセージ


    各セクションの記述の方法を説明します。


  7. 1.  REM セクション
~~~~~~~~~~~~~~~~~~~~~~~~~
    コメントを記述することができます。 内容は自由ですが、行頭に「[」があると
  次のセクションの開始と間違えてしまうので注意して下さい。


  7. 2.  PMAP1/PMAP2 セクション
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    プログラム番号変換マップの定義を行います。 変換マップは 2 つ持つことがで
  きます。各々 PMAP1 セクション PMAP2 セクションで定義して下さい。
    変換したいプログラム番号がある場合は、

        p1 b:p2

  と 1 行に1組づつ書きます。p1 は変換前のプログラム番号（1〜128）、p2 は変換
  後のプログラム番号（1〜128）、b は変換後のバンク番号（0〜127）です。
    バンク番号は通常 MSB 側を指定することになり、LSB 側は 0 になります。ただ
  し、後述する BANKL0 を使用すると LSB 側は変更されます。
    XG 音源が指定されたチャンネルではバンク番号は LSB 側の指定になり、MSB 側
  のバンクセレクトは出力されません。 バンク番号を省略（省略する場合は「:」も
  含めて省略します）するとバンクセレクトメッセージは MSB、LSB とも出力しませ
  ん。
    p1 で指定されなかったプログラム番号は変換されずにそのまま出力されます。

    例）
    10 12
          プログラム番号 10 の代りに 12 を出力します。

    21 8:23
          音源指定がないか XG 音源以外が指定されている場合にはプログ
        ラム番号 21 の代りに バンク番号 MSB を 8 に LSB を 0（後述の
        BANKL0 で変更可能）にし、プログラム番号 23 を出力します。
          XG 音源が指定されている場合には プログラム番号 21 の代わり
        にバンク番号 LSB を 8 にし、プログラム番号 23 を出力します。
        バンク番号 MSB は出力しません。


  7. 3.  RMAP1/RMAP2 セクション
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    リズムノート番号変換マップの定義を行います。 変換マップは 2 つ持つことが
  できます。各々 RMAP1 セクション RMAP2 セクションで定義して下さい。
    変換したいノート番号がある場合は、

        i1 i2

  と 1 行に 1 組づつ書きます。i1 は変換前のノート番号（0〜127）、i2 は変換後
  のノート番号（0〜127）です。
    i1 で指定されなかったノート番号は変換されずにそのまま出力されます。

    例）
    32 33
          ノート番号 32 の代りに 33 を出力します。


  7. 4.  CHANNEL セクション
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    各チャンネルの設定を行います。2 ポート利用時、音源初期設定に関するものは
  1st ポートでのみ有効で、その他の設定はどちらのポートも同じになります。

 ・ PMAP : プログラム番号変換マップ指定

        c PMAP=m

      c は MIDI チャンネルで、m は 1 か 2 で使用する変換マップを選択します。
      指定の MIDI チャンネルのプログラム番号が指定された変換マップに従って変
    換されます。この記述がなければ変換されません。

 ・ RMAP : リズムノート番号変換マップ指定

        c RMAP=m

      c は MIDI チャンネルで、m は 1 か 2 で使用する変換マップを選択します。
      指定の MIDI チャンネルのノート番号が指定された変換マップに従って変換さ
    れます。この記述がなければ変換されません。

 ・ RHYTHM : リズムチャンネル指定

        c RHYTHM

      c は MIDI チャンネルです。
      指定の MIDI チャンネルがリズムチャンネルになります。
      リズムチャンネルが各データ形式によるデフォルトと異なる場合に指定します
    が、ひとつでも指定されていればデフォルトのリズムチャンネルはすべて取り消
    されます。指定する場合はすべてのリズムチャンネルに RHYTHM 指定して下さい。
      現バージョンではこの指定は BIAS 変更（キートランスポーズ）にしか影響し
    ません。

 ・ LA、PCM、GS、GM、XG : 音源指定

        c LA
        c PCM
        c GS
        c GM
        c XG

      c は MIDI チャンネルです。
      指定の MIDI チャンネルは指定された音源をコントロールするものとして処理
    します。
      LA、PCM、GM 音源を指定したチャンネルはデータ中のバンクセレクトの出力が
    禁止されます。プログラム番号の変換機能、プログラム番号の初期値指定でバン
    ク番号が指定されている場合はそのバンクセレクトは出力されます。
      LA、PCM、GS 音源を指定したチャンネルは CM-64/CM-32L/P のエミュレーショ
    ンを行う場合に影響します。
      XG 音源を指定したチャンネルは バンクセレクト処理が特殊な状態になります。

 ・ PRG : プログラム番号の初期設定

        c PRG=b:p

      c は MIDI チャンネルで、p はプログラム番号（1〜128）です。b はバンク番
    号（0〜127）です
      演奏前に指定の MIDI チャンネルに対して指定された番号のバンクセレクトと
    プログラムチェンジを出力します。
      プログラム番号の変換マップの指定がある場合それに従って変換されます。ま
    た、変換マップの定義でバンク番号が指定されていた場合は、そちらが優先され
    ここでのバンク番号は無視されます。
      バンク番号は通常 MSB 側を指定することになり、LSB 側は 0 になります。た
    だし、後述する BANKL0 を使用すると LSB 側は変更されます。
      XG 音源が指定されたチャンネルではバンク番号は LSB 側の指定になります。
    MSB 側は通常 0 ですがリズムチャンネルでは 127 になります。
      バンク番号が省略（省略する場合は「:」も含めて省略します）され、 該当す
    る変換マップにもバンク番号が指定されていない場合、バンクセレクトは MSB、
    LSB とも出力しません。
      2 ポート利用時は 1st ポートのみ初期設定されます。

 ・ VOL : ボリュームの初期設定

        c VOL=v

      c は MIDI チャンネルで、v はボリューム値（0〜127）です。
      演奏前に指定の MIDI チャンネルに対してボリュームが指定された値になるよ
    うなコントロールチェンジを送ります。
      2 ポート利用時は 1st ポートのみ初期設定されます。

 ・ PAN : パンポットの初期設定

        c PAN=v

      c は MIDI チャンネルで、v はパンポット値（0〜127）です。
      演奏前に指定の MIDI チャンネルに対してパンポットが指定された値になるよ
    うなコントロールチェンジを送ります。
      2 ポート利用時は 1st ポートのみ初期設定されます。

 ・ EXP : エクスプレッションの初期設定

        c EXP=v

      c は MIDI チャンネルで、v はエクスプレッション値（0〜127）です。
      演奏前に指定の MIDI チャンネルに対してエクスプレッションが指定された値
    になるようなコントロールチェンジを送ります。
      2 ポート利用時は 1st ポートのみ初期設定されます。

 ・ VOLADJ : ボリューム値の拡張・圧縮

        c VOLADJ=n

      c は MIDI チャンネルで、n は比率（0〜500 の整数で単位は %）です。
      演奏しているデータ中のボリュームの値に指定された比率を掛けます。

 ・ EXPADJ : エクスプレッション値の拡張・圧縮

        c EXPADJ=n

      c は MIDI チャンネルで、n は比率（0〜500 の整数で単位は %）です。
      演奏しているデータ中のエクスプレッションの値に指定された比率を掛けます。

 ・ BANKL0 : バンク番号（LSB）=0 の変換

        c BANKL0=b

      c は MIDI チャンネルで、b は変換後のバンク番号（0〜127）です。
      データ中のバンク番号の LSB が 0 のバンクセレクトが出力されるとき、これ
    を別の値に変換します。
      プログラム番号の初期値指定でバンク番号を伴っている場合のそのバンク番号
    LSB も変換されます。
      XG 音源が指定されたチャンネルではこの指定は無視されます。


    同一 MIDI チャンネルの場合複数の設定をまとめて記述することができます。

    例）
    1 PMAP=1 PRG=34 VOL=100 PAN=0
    2 PMAP=2 PRG=8:16 BANKL0=1
    3 RMAP=1 RHYTHM EXP=110 VOLADJ=200
    4 RHYTHM EXPADJ=50

    チャンネル 1
    プログラム番号を変換マップ 1 に従って変換
    プログラム番号を 34 に初期設定
    ボリュームを 100 に初期設定
    パンポットを 0 に初期設定

    チャンネル 2
    プログラム番号を変換マップ 2 に従って変換
    バンク番号 LSB が 0 に指定されたときは 1 に変更する
    バンク番号 MSB を 8、LSB を 1 に初期設定
    プログラム番号の 16 に初期設定

    チャンネル 3
    ノート番号を変換マップ 1 に従って変換
    リズムチャンネル指定
    エクスプレッションを 110 に初期設定
    ボリューム値を倍にする（200% を掛ける）

    チャンネル 4
    リズムチャンネル指定
    エクスプレッション値を半分にする（50% を掛ける）


  7. 5.  DATA セクション
~~~~~~~~~~~~~~~~~~~~~~~~~~
    このセクションで指定されたデータを演奏前に送信します。 演奏データは 1 バ
  イトごとにスペース、タブまたは改行で区切って 16 進数で記述します。

    送信データの代わりに以下の指定も可能です。

    SC :  チェックサムをクリアします。データは何も送信されません。
    SS :  チェックサムを送信します。
          Roland 式のチェックサムになります。 同じ計算方法なら他メーカー
          のエクスクルーシブにも使用可能です。
    Wn :  指定時間だけ次のデータの送信を待ちます。n は待ち時間で範囲は 1
              〜999（m秒単位）です。ただし、指定された時間分の間隔を最低は確
          保するという処理になっているので、正確なものではありません。

    16 進データは 指定された順にそのまま送信されます。ランニングステータスル
  ールによる省略などの加工は一切行いません。 また、2 ポート利用時は 1st ポー
  トにしか出力されません。

    例）
    DATA セクションの記述

        F0 41 10 42 12 SC 40 01 30 02 SS F7 W20
                  ~~~~~~~~~~~
                   ^---チェックサムの計算範囲

    実際に送信されるデータ

        F0 41 10 42 12 40 01 30 02 0D F7
                    ^---計算されたチェックサム
    この後、20 m秒以上の間隔を開ける



-----------------------------------------------------------------------------

                                 いかたま
                        NIFTY-Serve ID : QZB03477

===== End of FILE =================== MIDRY Version 1.06 (MIDRY106.DOC) =====
